function addFirstItemDDCat(e){if(13==e.keyCode){let t=toAddCat.firstChild.getAttribute("onclick"),a=t.substring(t.indexOf('"')+1,t.lastIndexOf('"')),d=t.substring(t.indexOf("(")+1,t.lastIndexOf(","));return"saveCategory("==d?saveCategory(searchCat.value):selectCategory(d,a),e.preventDefault(),!1}}function sCategory(e){e.value.length<3||(toAddCat.innerText="",toAddCat.style.height="initial",fetch(backend+"/painel/categorias/search/"+e.value,{mode:"no-cors",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(e=>e.json()).then(e=>{e.length>0&&e.forEach(e=>{toAddCat.appendChild(createItemToAdd("div","item",e.id,e.title,"selectCategory"))})}))}function saveCategory(e){fetch(backend+"/painel/categorias/search/add",{method:"POST",body:JSON.stringify({title:e}),headers:{"Content-type":"application/json; charset=UTF-8","X-CSRF-TOKEN":csrf_p}}).then(e=>e.json()).then(e=>{e.title?selectCategory(e.id,e.title):(addMsgError(searchCat.parentElement,e[0].title),toAddCat.style.height=0,searchCat.value="")})}function selectCategory(e,t){upTextarea(e,t,alreadyCat)&&(toAddCat.style.height=0,listCat.appendChild(createItemAdded("div","item",e,t,"removeCat")),searchCat.value="")}function removeCat(e,t){e.parentElement.remove(),dwTextarea(t,alreadyCat)}let toAddCat=document.getElementsByClassName("categories-to-add")[0],listCat=document.getElementsByClassName("categories-list")[0],searchCat=document.getElementById("searchCategory"),alreadyCat=document.getElementsByName("categories")[0];