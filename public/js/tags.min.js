function startTags(){if(alreadyTag.value.length>0){let e=JSON.parse(alreadyTag.value);e.forEach(e=>{})}}function addFirstItemDDTag(e){if(13==e.keyCode){let a=toAddTag.firstChild.getAttribute("onclick"),t=a.substring(a.indexOf('"')+1,a.lastIndexOf('"')),d=a.substring(a.indexOf("(")+1,a.lastIndexOf(","));return"saveTag("==d?saveTag(searchTag.value):selectTag(d,t),e.preventDefault(),!1}}function sTag(e){e.value.length<3||(toAddTag.innerText="",toAddTag.style.height="initial",fetch(backend+"/painel/tags/search/"+e.value).then(e=>e.json()).then(e=>{e.length>0&&e.forEach(e=>{toAddTag.appendChild(createItemToAdd("div","item",e.id,e.title,"selectTag"))}),toAddTag.appendChild(createAddBt("div","item","Adicionar","saveTag",searchTag.value))}))}function saveTag(e){fetch(backend+"/painel/tags/search/add",{method:"POST",body:JSON.stringify({title:e}),headers:{"Content-type":"application/json; charset=UTF-8","X-CSRF-TOKEN":csrf_p}}).then(e=>e.json()).then(e=>{e.title?selectTag(e.id,e.title):(addMsgError(searchTag.parentElement,e[0].title),toAddTag.style.height=0,searchTag.value="")})}function selectTag(e,a){upTextarea(e,a,alreadyTag)&&(toAddTag.style.height=0,listTag.appendChild(createItemAdded("div","item",e,a,"removeTag")),searchTag.value="")}function removeTag(e,a){e.parentElement.remove(),dwTextarea(a,alreadyTag)}let toAddTag=document.getElementsByClassName("tags-to-add")[0],listTag=document.getElementsByClassName("tags-list")[0],searchTag=document.getElementById("searchTag"),alreadyTag=document.getElementsByName("tags")[0];startTags();