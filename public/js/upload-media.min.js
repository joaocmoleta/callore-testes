async function chooseFile(e){if(e.setAttribute("disabled","disabled"),e.files.length){let t=document.createElement("form");t.setAttribute("enctype","multipart/form-data");let a=new FormData(t);a.append("file",e.files[0]),a.append("file_name",document.getElementById(e.getAttribute("nameFile")).value),a.append("crop_type",crop_type),a.append("crop_width",crop_width),a.append("crop_height",crop_height),await fetch(upload_route,{method:"POST",headers:{"X-CSRF-TOKEN":document.getElementsByName("_token")[0].value},body:a}).then(e=>e.json()).then(t=>{console.log(t),console.log(t[0].file[0]),console.log(t[0].file),e.removeAttribute("disabled"),t[0].file.path&&(arquivo_uploaded.value=t[0].file.path),e.value="";let a=document.getElementsByClassName("msg-ajax-upload");a[0]&&a[0].remove();let l=document.createElement("div");l.classList.add("msg-ajax-upload"),l.append(t[0].file[0]),e.parentElement.append(l)})}}function selectCropType(e,t){let a=e.parentElement.children;for(i=0;i<a.length;i++)a[i].classList.remove("selected");e.classList.add("selected"),crop_type=t}function finishUpload(){if(""==target_upload.value){let e=document.getElementsByClassName("msg-ajax-upload");e[0]&&e[0].remove();let t=document.createElement("div");return t.classList.add("msg-ajax-upload"),t.append("Selecione um arquivo."),void target_upload.parentElement.append(t)}target_upload.parentElement.parentElement.parentElement.style.display="none",afterFinishUpload&&afterFinishUpload()}function removeImage(e,t){let a=document.getElementsByName("images")[0],l=[];""!=a.value&&(l=JSON.parse(a.value));let n=[];for(i=0;i<l.length;i++)t!=i&&n.push(l[i]);a.value=JSON.stringify(n),e.parentElement.remove()}function createImageObj(e){let t=document.createElement("div");t.classList.add("add-image-item");let a=document.createElement("img");a.setAttribute("src",target_upload.value),t.append(a);let l=document.createElement("span");l.classList.add("add-image-bt-remove"),l.setAttribute("onclick","removeImage(this, "+e+")"),l.innerHTML='<svg width="24" height="24" version="1.1" viewBox="0 0 24 24" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="m1.8662 1.8662 20.268 20.268" style="fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.989;stroke:#000"></path><path d="m22.134 1.8662-20.268 20.268" style="fill:none;stroke-linecap:round;stroke-linejoin:round;stroke-width:1.989;stroke:#000"></path></svg>';let n=document.getElementsByClassName("box-add-image-content")[0];t.append(l),n.append(t)}