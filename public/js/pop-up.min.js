function goMontarPopUp(e){e.screenY<=220&&0==document.getElementsByClassName("pop-up-leave-page").length&&montarPopUp()}function montarPopUp(){let e=document.createElement("div");e.classList.add("pop-up-leave-page"),e.append(montarPopUpContent()),document.body.append(e),document.documentElement.style.overflowY="hidden",document.getElementById("name")&&inicializarListeners()}function closePopUp(e){document.documentElement.style.overflowY="scroll",e.remove(),document.cookie=`cadastrar_pop_up=true; expires=${cookie_exp}; path=/;`,document.body.removeAttribute("onmouseleave")}function btClosePopUp(){let e=document.createElement("div");return e.classList.add("pop-up-close"),e.innerText="x",e.setAttribute("onclick","closePopUp(this.parentElement.parentElement)"),e}function montarPopUpContent(){let e=document.createElement("div");if(e.classList.add("pop-up-content"),e.append(btClosePopUp()),document.getElementsByClassName("msg-error")[0]&&e.append(document.getElementsByClassName("msg-error")[0]),document.getElementsByClassName("msg-success")[0]){e.append(document.getElementsByClassName("msg-success")[0]);let t=document.createElement("div");t.classList.add("texto-pop-up-success"),t.innerHTML='<h2>Você ganhou o cupom <span class="label">LEADSITE</span> para utilizar na sua compra.</h2>',e.append(t);let n=document.createElement("div");e.append(n),n.classList.add("texto-pop-up-success"),n.innerHTML="<p>Basta inserir o código LEADSITE e aproveitar.</p>",e.append(n);let o=document.createElement("div");o.classList.add("texto-pop-up-success"),o.innerHTML="<p>* Cupom não acomulativo a outras promoções e descontos.</p>",e.append(o)}else e.append(montarPopUpTitle("Não vá embora")),e.append(montarPopUpTitle2("Antes garanta um desconto exclusivo")),e.append(montarPopUpCall("Insira seu nome, telefone e e-mail abaixo e receba seu cupom")),e.append(montarPopUpForm(route_pop_up_leave,"POST"));return e}function montarPopUpTitle(e){let t=document.createElement("h3");return t.classList.add("pop-up-title"),t.innerText=e,t}function montarPopUpTitle2(e){let t=document.createElement("h4");return t.classList.add("pop-up-title-2"),t.innerText=e,t}function montarPopUpCall(e){let t=document.createElement("p");return t.innerText=e,t}function montarPopUpForm(e,t){let n=document.createElement("form");return n.setAttribute("method",t),n.setAttribute("action",e),n.setAttribute("onsubmit","cadastrarPopUp()"),n.append(montarPopUpCSRF()),n.append(montarPopUpLabel("Nome")),n.append(montarPopUpInput("name","John Doe")),n.append(montarPopUpLabel("Telefone")),n.append(montarPopUpInput("phone","+55 51 99999-9999")),n.append(montarPopUpLabel("E-mail")),n.append(montarPopUpInput("email","john@gmail.com")),n.append(montarPopUpSubmit("Garantir")),n}function montarPopUpCSRF(){let e=document.createElement("input");return e.setAttribute("type","hidden"),e.setAttribute("name","_token"),e.setAttribute("value",csrf_token),e}function montarPopUpLabel(e){let t=document.createElement("label");return t.innerText=e,t}function montarPopUpInput(e,t){let n=document.createElement("div");n.classList.add("input");let o=document.createElement("input");return o.setAttribute("id",e),o.setAttribute("name",e),o.setAttribute("placeholder",t),n.append(o),n}function montarPopUpSubmit(e){let t=document.createElement("div");t.classList.add("submit");let n=document.createElement("button");return n.classList.add("bt-primary-danger"),n.innerText=e,t.append(n),t}function cadastrarPopUp(){document.cookie="cadastrando_pop_up=true"}function createMessage(e){let t=document.createElement("div");return t.classList.add("msg-error"),t.innerText=e,t}function inicializarListeners(){document.getElementById("name").addEventListener("blur",function(){this.parentElement.children.length>1&&this.parentElement.children[1].remove(),this.value.length<3&&this.parentElement.append(createMessage("Insira um nome válido de no mínimo 3 letras."))}),document.getElementById("phone").addEventListener("blur",function(){this.parentElement.children.length>1&&this.parentElement.children[1].remove(),this.value.length<10&&this.parentElement.append(createMessage("Insira um telefone válido."))}),document.getElementById("email").addEventListener("blur",function(){let e=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;this.parentElement.children.length>1&&this.parentElement.children[1].remove(),this.value.match(e)||this.parentElement.append(createMessage("Insira um e-mail válido."))})}document.getElementsByClassName("msg-success")[0]&&(document.cookie=`cadastrar_pop_up=true; expires=${cookie_exp}; path=/;`),document.cookie.match(/cadastrando_pop_up/g)&&(montarPopUp(),document.cookie="cadastrando_pop_up=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"),document.cookie.match(/cadastrar_pop_up/g)||document.body.setAttribute("onmouseleave","goMontarPopUp(event)");